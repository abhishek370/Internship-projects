{% extends 'info/base.html' %}
{% block content %}
  <form  method="post">
    {% csrf_token %}
    
    <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-2 col-form-label">Exam Name</label>
        <div class="col-sm-10">
          <input name="ename" type="text" {% if edit is True %} value="{{edit_data.exam_name}}" {% endif %} class="form-control" id="inputPassword">
        </div>
      </div>

    <select name="sub" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
        <option selected>Subject</option>
        {% for ass in teacher1.assign_set.all %}
        
        <option {% if edit is True %} selected {% endif %}>{% if edit is True %} {{edit_data.class_id}} {% else %}{{ ass.class_id }}{% endif %}</option>
        {% endfor %}
      </select>

      <select name="cou" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
        <option selected>Course</option>

        {% for ass in teacher1.assign_set.all %}
        
        <option {% if edit is True %} selected {% endif %}>{% if edit is True %} {{edit_data.course}} {% else %}{{ ass.course }}{% endif %}</option>
        {% endfor %}
      </select>
        
      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-2 col-form-label">Exam Date</label>
        <div class="col-sm-10">
          <input name="edate" type="date" {% if edit is True %} value="{{edit_date}}" {% endif %} class="form-control" id="inputPassword">
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-2 col-form-label">Exam Time Start</label>
        <div class="col-sm-10">
          <input name="etimes" type="time"  {% if edit is True %} value="{{edit_time_s}}" {% endif %} class="form-control" id="inputPassword">
        </div>
      </div>
      
      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-2 col-form-label">Exam Time End</label>
        <div class="col-sm-10">
          <input name="etimee" type="time" {% if edit is True %} value="{{edit_time_e}}" {% endif %} class="form-control" id="inputPassword">
        </div>
      </div>
      {% if checker is True %}<div class="alert alert-danger" role="alert">End Time Must Be Greater than Start Time</div>{% endif %}
      {% if st_checker is True %}<div class="alert alert-danger" role="alert">Student already have exam on this date and time don't set time between {{st|date:'H:i A'}} To {{et|date:'H:i A'}}</div>{% endif %}
      {% if et_checker is True %}<div class="alert alert-danger" role="alert">Student already have exam on this date and time don't set time between {{st|date:'H:i A'}} To {{et|date:'H:i A'}}</div>{% endif %}
      <button class="btn btn-primary " type="submit" value="submit">Add</button>

      <h1 style="text-align: center;">Exam List</h1>
      <table class="table table-sm">
        <thead>
          <tr>
            <th scope="col">No.</th>
            <th scope="col">Exam Name</th>
            <th scope="col" colspan="3">Options</th>
           
          </tr>
        </thead>
        <tbody>
          {% for e in exam %}
          <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>{{e.exam_name}}</td>
            {% if e.exam_date > today %}
              <td><button class="btn btn-primary " type="submit" name="exam_name" value="{{e.exam_name}}">Edit</button></td>
              <td><button class="btn btn-primary " type="submit" name="exam_name" value="{{e.exam_name}}">Update</button></td>
              <td><a class="btn btn-primary" href="{% url 't_add_exam_edit_quetion' e.id%}" role="button">Edit Quetion</a></td>
            {% else %}
              <td><a class="btn btn-primary" href="{% url 't_add_exam_view' e.id%}" role="button">View</a></td>
            {% endif %}  
          </tr>
          
          {% endfor %}
        </tbody>
      </table>
  </form>
{% endblock %}